<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AIéŸ³æ¨‚æŒ‡ä»¤ç”Ÿæˆå™¨ by Willis Liu (V13.2)</title>
    <style>
        /* --- åŸºç¤è¨­å®š --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f5f6fa;
            padding: 15px;
            padding-bottom: 600px;
            max-width: 1000px;
            margin: 0 auto;
            color: #2d3436;
            -webkit-text-size-adjust: 100%;
        }

        h2 { text-align: center; border-bottom: 3px solid #b2bec3; padding-bottom: 15px; margin-bottom: 20px; font-size: 1.5rem; }

        /* --- æ–°å¢ï¼šé»ƒé‡‘æ³•å‰‡åœ–å¡å€å¡Š --- */
        .info-box {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.3);
        }
        .info-title {
            text-align: center; font-weight: 800; font-size: 1.2rem; margin-bottom: 15px; text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .rules-container {
            display: flex; flex-wrap: wrap; gap: 15px; justify-content: space-between;
        }
        .rule-card {
            background: rgba(255, 255, 255, 0.95);
            color: #2d3436;
            border-radius: 12px;
            padding: 15px;
            flex: 1 1 30%; /* é›»è…¦ç‰ˆä¸‰æ¬„ä¸¦æ’ */
            min-width: 250px; /* æ‰‹æ©Ÿç‰ˆè‡ªå‹•æ›è¡Œ */
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .rule-icon { font-size: 24px; margin-bottom: 10px; text-align: center; display: block; }
        .rule-card h4 { margin: 0 0 8px 0; font-size: 16px; color: #6c5ce7; text-align: center; }
        .rule-desc { font-size: 13px; color: #636e72; margin-bottom: 12px; text-align: center; }
        .example {
            font-size: 12px; padding: 6px 10px; border-radius: 6px; margin-bottom: 5px; font-family: monospace;
        }
        .bad { background: #ffecec; color: #d63031; border-left: 4px solid #d63031; }
        .good { background: #e3fafc; color: #00b894; border-left: 4px solid #00b894; font-weight: bold; }

        /* --- åŸæœ‰å€å¡Šè¨­è¨ˆ --- */
        .layer-box {
            background: white; padding: 15px; border-radius: 12px; margin-bottom: 15px;
            border-left: 6px solid #ccc; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* --- é¡è‰²è­˜åˆ¥ç³»çµ± --- */
        .layer-recipe { border-left-color: #f1c40f; background: linear-gradient(to right, #fff, #fffbf0); border: 2px solid #f1c40f; }
        .layer-1 { border-left-color: #0984e3; }
        .layer-2 { border-left-color: #d63031; }
        .layer-2b { border-left-color: #00b894; }
        .layer-3 { border-left-color: #6c5ce7; }
        .layer-4 { border-left-color: #e84393; }
        .layer-5 { border-left-color: #e17055; }
        .layer-6 { border-left-color: #fd79a8; }
        .layer-8 { border-left-color: #2d3436; }

        .title { font-weight: 800; font-size: 15px; margin-bottom: 10px; display: block; }
        .btn-group { display: flex; flex-wrap: wrap; gap: 8px; }

        /* --- æŒ‰éˆ•é€šç”¨æ¨£å¼ --- */
        button {
            padding: 8px 12px; border: 1px solid #dfe6e9; background: white; border-radius: 6px;
            cursor: pointer; font-size: 13px; font-weight: 600; color: #636e72; transition: all 0.1s;
            flex: 1 1 auto; text-align: center; min-width: 80px;
        }
        button:active { transform: scale(0.98); }

        .btn-recipe {
            border-color: #f1c40f; color: #d35400; background: #fff; 
            box-shadow: 0 2px 4px rgba(241, 196, 15, 0.2);
        }
        .btn-recipe:hover { background: #f1c40f; color: white; }

        /* --- æ¿€æ´»ç‹€æ…‹ --- */
        .btn-struct.active { background: #0984e3; color: white; border-color: #0984e3; }
        .btn-style.active { background: #d63031; color: white; border-color: #d63031; }
        .btn-region.active { background: #00b894; color: white; border-color: #00b894; }
        .btn-inst.active { background: #6c5ce7; color: white; border-color: #6c5ce7; }
        .btn-emo.active { background: #e84393; color: white; border-color: #e84393; }
        .btn-tempo.active { background: #e17055; color: white; border-color: #e17055; }
        .btn-vox.active { background: #fd79a8; color: white; border-color: #fd79a8; }
        .btn-mix.active { background: #2d3436; color: white; border-color: #2d3436; }
        .btn-neg.active { background: #eb4d4b; color: white; border-color: #eb4d4b; }

        .sub-label { width: 100%; font-size: 12px; font-weight: bold; color: #b2bec3; margin: 10px 0 5px 0; border-bottom: 1px dashed #e1e1e1; padding-bottom: 2px; }

        /* --- çµæœé¡¯ç¤ºå€ --- */
        .result-area {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background-color: #2d3436; padding: 15px; 
            border-top: 4px solid #f1c40f;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.3); z-index: 9999;
            box-sizing: border-box;
        }
        .custom-input {
            width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 6px; border: none;
            background: #dfe6e9; color: #2d3436; font-size: 14px; box-sizing: border-box;
        }
        textarea {
            width: 100%; height: 70px; background: #353b48; color: #55efc4; border: 1px solid #555;
            padding: 10px; border-radius: 8px; font-size: 14px; font-family: monospace; resize: none; box-sizing: border-box;
        }
        .copy-btn {
            width: 100%; padding: 12px; background: #00b894; color: white; font-weight: bold; font-size: 16px; border: none; border-radius: 8px; cursor: pointer; margin-top: 8px;
        }
        .copy-btn:hover { background: #55efc4; }
    </style>
</head>
<body>

    <h2>ğŸ» AIéŸ³æ¨‚æŒ‡ä»¤ç”Ÿæˆå™¨ by Willis Liu</h2>

    <div class="info-box">
        <div class="info-title">âœ¨ å¦‚ä½•ç²¾æº–æ§åˆ¶ AIï¼Ÿè£œå……æŒ‡ä»¤çš„ 3 å€‹é»ƒé‡‘æ³•å‰‡ âœ¨</div>
        <div class="rules-container">
            <div class="rule-card">
                <span class="rule-icon">ğŸ¨</span>
                <h4>1. çµ¦ç•«é¢ï¼Œä¸çµ¦æˆèª</h4>
                <p class="rule-desc">åˆ¥å¯«æŠ½è±¡æ„Ÿè¦ºï¼Œå¯«å…·é«”å ´æ™¯æˆ–è²éŸ³ã€‚</p>
                <div class="example bad">âŒ Very sad feeling (å¤ªæŠ½è±¡)</div>
                <div class="example good">âœ… Sound of rain, Lonely street ambiance</div>
            </div>
            <div class="rule-card">
                <span class="rule-icon">ğŸ¬</span>
                <h4>2. è£œå……ä¸»é¡Œå…§å®¹</h4>
                <p class="rule-desc">å‘Šè¨´ AI é€™é¦–æ­Œæ˜¯ç”¨ä¾†åšä»€éº¼çš„ã€‚</p>
                <div class="example bad">âŒ Good for video (å¤ªç± çµ±)</div>
                <div class="example good">âœ… Wedding entrance music, About a broken robot</div>
            </div>
            <div class="rule-card">
                <span class="rule-icon">ğŸ·</span>
                <h4>3. æŒ‡å®šæ ¸å¿ƒæ¨‚å™¨</h4>
                <p class="rule-desc">å¦‚æœæŒ‰éˆ•é¸äº†é¢¨æ ¼ï¼Œé€™è£¡è¦å¼·èª¿ä¸»è§’ã€‚</p>
                <div class="example bad">âŒ Jazz style (æŒ‰éˆ•å·²é¸)</div>
                <div class="example good">âœ… Saxophone Solo, Smoky tone</div>
            </div>
        </div>
        <div style="text-align: center; margin-top: 15px; font-size: 13px; opacity: 0.9;">
            ğŸ‘‰ <b>ä½¿ç”¨æ–¹å¼ï¼š</b>å°‡é€™äº›æè¿°ç”¨é€—è™Ÿåˆ†éš”ï¼Œæ‰“åœ¨æœ€ä¸‹æ–¹çš„ã€Œè£œå……æŒ‡ä»¤ã€è¼¸å…¥æ¡†ä¸­ã€‚
        </div>
    </div>

    <div class="layer-box layer-recipe">
        <span class="title">ğŸ† Layer 0. é»ƒé‡‘é…æ–¹ (ä¸€éµç”Ÿæˆ)</span>
        <div class="btn-group">
            <button class="btn-recipe" onclick="applyPreset('intimate')">1. æƒ…æ„Ÿç¨å¥ (Olafur)</button>
            <button class="btn-recipe" onclick="applyPreset('epic')">2. å²è©©å‹•ä½œ (Zimmer)</button>
            <button class="btn-recipe" onclick="applyPreset('cyberpunk')">3. è³½åšæœªä¾† (Blade Runner)</button>
            <button class="btn-recipe" onclick="applyPreset('ghibli')">4. å‰åœåŠ›é¢¨ (ä¹…çŸ³è®“)</button>
            <button class="btn-recipe" onclick="applyPreset('phonk')">5. æµé‡å¯†ç¢¼ (Phonk)</button>
            <button class="btn-recipe" onclick="applyPreset('lofi')">6. æ·±å¤œè®€æ›¸ (Lofi)</button>
            <button class="btn-recipe" onclick="applyPreset('kpop')">7. éŸ“æµä¾†è¥² (K-Pop)</button>
            <button class="btn-recipe" onclick="applyPreset('latin')">8. ç†±æƒ…æ‹‰ä¸ (Bossa)</button>
        </div>
    </div>

    <div class="layer-box layer-1">
        <span class="title">Layer 1. ä½¿ç”¨å ´æ™¯èˆ‡çµæ§‹</span>
        <div class="btn-group">
            <button class="btn-struct" data-val="[Intro], [Verse 1], [Pre-Chorus], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]" onclick="setStruct(this)">ğŸ“» å»£æ’­é‡‘æ›² (å®Œæ•´)</button>
            <button class="btn-struct" data-val="[Catchy Hook], [Fast Build Up], [Drop], [High Energy Chorus], [Sudden End]" onclick="setStruct(this)">ğŸ“± ç—…æ¯’çŸ­å½±éŸ³ (Reels)</button>
            <button class="btn-struct" data-val="[Atmospheric Intro], [Main Theme], [Slow Build Up], [Emotional Climax], [Fade Out]" onclick="setStruct(this)">ğŸ¬ å½±è¦–æ•˜äº‹ (Vlog)</button>
            <button class="btn-struct" data-val="[Soft Intro], [Steady Rhythm], [Linear Progression], [No Sudden Changes], [Seamless Loop]" onclick="setStruct(this)">â˜•ï¸ ç’°å¢ƒæ°›åœ (BGM)</button>
            <button class="btn-struct" data-val="[Grand Overture], [Soloist Entry], [Complex Development], [Cadenza], [Grand Finale]" onclick="setStruct(this)">ğŸ» èˆå°èˆ‡å„€å¼ (å¤å…¸)</button>
        </div>
    </div>

    <div class="layer-box layer-2">
        <span class="title">Layer 2. éŸ³æ¨‚æµæ´¾ (Genre)</span>
        <div class="btn-group">
            <button class="btn-style" data-val="Modern Pop, Synth-pop, EDM" onclick="toggleTag(this)">ğŸ¹ æµè¡Œé›»å­</button>
            <button class="btn-style" data-val="Hip Hop, Trap, R&B, Neo-Soul" onclick="toggleTag(this)">ğŸ¤ å˜»å“ˆç¯€å¥</button>
            <button class="btn-style" data-val="Rock, Alternative, Indie Rock" onclick="toggleTag(this)">ğŸ¸ æ–æ»¾å¦é¡</button>
            <button class="btn-style" data-val="Folk, Acoustic, Singer-Songwriter" onclick="toggleTag(this)">ğŸŒ² æ°‘è¬ é„‰æ‘</button>
            <button class="btn-style" data-val="Jazz, Blues, Bossa Nova, Lounge" onclick="toggleTag(this)">ğŸ· çˆµå£«è—èª¿</button>
            <button class="btn-style" data-val="Classical, Orchestral, Film Score" onclick="toggleTag(this)">ğŸ» å¤å…¸å²è©©</button>
            <button class="btn-style" data-val="Latin Pop, Reggaeton, Afrobeats" onclick="toggleTag(this)">ğŸï¸ æ‹‰ä¸ä¸–ç•Œ</button>
            <button class="btn-style" data-val="Lofi, Ambient, Chillout" onclick="toggleTag(this)">â˜ï¸ æ°›åœä½å‚³çœŸ</button>
        </div>
    </div>

    <div class="layer-box layer-2b">
        <span class="title">Layer 3. åœ°å€æµé‡å¯†ç¢¼ (Traffic & Culture)</span>
        <div class="btn-group">
            <button class="btn-region" data-val="K-Pop, K-Idol, Catchy Hook" onclick="toggleTag(this)">ğŸ‡°ğŸ‡· éŸ“æµ K-Pop</button>
            <button class="btn-region" data-val="J-Pop, Anime Opening, High Energy" onclick="toggleTag(this)">ğŸ‡¯ğŸ‡µ æ—¥ç³»äºŒæ¬¡å…ƒ</button>
            <button class="btn-region" data-val="US Pop, Billboard Chart, Atlanta Trap" onclick="toggleTag(this)">ğŸ‡ºğŸ‡¸ ç¾å¼æ’è¡Œ</button>
            <button class="btn-region" data-val="Reggaeton, Latin Pop, Urbano" onclick="toggleTag(this)">ğŸ‡§ğŸ‡· æ‹‰ä¸ç†±æµª</button>
            <button class="btn-region" data-val="Afrobeats, Amapiano, Log Drum" onclick="toggleTag(this)">ğŸŒ éæ´²å¾‹å‹•</button>
            <button class="btn-region" data-val="C-Pop, Mandopop, Sentimental Ballad" onclick="toggleTag(this)">ğŸ‡¨ğŸ‡³ è¯èªæµè¡Œ</button>
            <button class="btn-region" data-val="Bollywood, Punjabi, High Energy" onclick="toggleTag(this)">ğŸ‡®ğŸ‡³ å¯¶èŠå¡¢</button>
            <button class="btn-region" data-val="Drift Phonk, Cowbell, Aggressive" onclick="toggleTag(this)">ğŸŒ ç¶²è·¯ Phonk</button>
        </div>
    </div>

    <div class="layer-box layer-3">
        <span class="title">Layer 5. å™¨æ¨‚é…å™¨ (Instruments)</span>
        <div class="sub-label">ç¶“å…¸èˆ‡åŸè²</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Grand Piano" onclick="toggleTag(this)">å¹³å°é‹¼ç´</button>
            <button class="btn-inst" data-val="String Quartet" onclick="toggleTag(this)">å¼¦æ¨‚å››é‡å¥</button>
            <button class="btn-inst" data-val="Solo Violin" onclick="toggleTag(this)">å°æç´ç¨å¥</button>
            <button class="btn-inst" data-val="Solo Cello" onclick="toggleTag(this)">å¤§æç´ç¨å¥</button>
            <button class="btn-inst" data-val="Acoustic Guitar" onclick="toggleTag(this)">æœ¨å‰ä»–</button>
        </div>
        <div class="sub-label">ç¾ä»£èˆ‡æµé‡</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Electric Guitar" onclick="toggleTag(this)">é›»å‰ä»–</button>
            <button class="btn-inst" data-val="Live Drum Kit" onclick="toggleTag(this)">çˆµå£«é¼“</button>
            <button class="btn-inst" data-val="Synthesizer Lead" onclick="toggleTag(this)">åˆæˆå™¨</button>
            <button class="btn-inst" data-val="Heavy 808 Bass" onclick="toggleTag(this)">808é‡ä½éŸ³</button>
            <button class="btn-inst" data-val="Trap Drum Machine" onclick="toggleTag(this)">é™·é˜±é¼“æ©Ÿ</button>
        </div>
        <div class="sub-label">ç¶²æ„Ÿç‰¹æ•ˆ</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Phonk Cowbell" onclick="toggleTag(this)">Phonkç‰›éˆ´</button>
            <button class="btn-inst" data-val="Vocal Chops" onclick="toggleTag(this)">äººè²åˆ‡ç‰‡</button>
            <button class="btn-inst" data-val="Lo-fi Vinyl Crackle" onclick="toggleTag(this)">é»‘è† åº•å™ª</button>
        </div>
    </div>

    <div class="layer-box layer-4">
        <span class="title">Layer 4. æƒ…æ„Ÿæ•˜äº‹ (Emotional Narrative)</span>
        <div class="btn-group">
            <button class="btn-emo" data-val="Major Key, Uplifting, High Energy, Playful, Optimistic" onclick="toggleTag(this)">â˜€ï¸ Dopamine Rush (å¤šå·´èƒº)</button>
            <button class="btn-emo" data-val="Minor Key, Melancholic, Slow Tempo, Emotional, Lonely" onclick="toggleTag(this)">ğŸ’§ 3AM Thoughts (æ·±å¤œemo)</button>
            <button class="btn-emo" data-val="Epic Build Up, Triumphant, Powerful, Heroic, Orchestral Swell" onclick="toggleTag(this)">âš”ï¸ Main Character (ä¸»è§’å…‰ç’°)</button>
            <button class="btn-emo" data-val="Nostalgic, Sentimental, Warm, Bittersweet" onclick="toggleTag(this)">ğŸ‚ Core Memory (æ ¸å¿ƒè¨˜æ†¶)</button>
            <button class="btn-emo" data-val="Ominous, Dark Tension, Dissonant, Suspenseful, Dangerous" onclick="toggleTag(this)">ğŸ”¥ Villain Arc (åæ´¾æ°£å ´)</button>
            <button class="btn-emo" data-val="Ethereal, Dreamy, Magical, Floating, Lydian Mode" onclick="toggleTag(this)">âœ¨ POV: Dreamscape (å¤¢å¢ƒ)</button>
        </div>
    </div>

    <div class="layer-box layer-5">
        <span class="title">Layer 7. æ™‚é–“èˆ‡é€Ÿåº¦ (Time & Tempo)</span>
        <div class="sub-label">â±ï¸ æµé‡è¦æ ¼é•·åº¦</div>
        <div class="btn-group">
            <button class="btn-tempo" data-val="[15 Seconds], [Stinger], [Quick Fade Out]" onclick="toggleTag(this)">15ç§’ (é™å‹•)</button>
            <button class="btn-tempo" data-val="[30 Seconds], [Commercial Spot], [Hard Stop]" onclick="toggleTag(this)">30ç§’ (å»£å‘Š)</button>
            <button class="btn-tempo" data-val="[3 Minutes], [Radio Edit]" onclick="toggleTag(this)">3åˆ† (å®Œæ•´)</button>
            <button class="btn-tempo" data-val="[Seamless Loop], [No End]" onclick="toggleTag(this)">ç„¡é™å¾ªç’° (Loop)</button>
        </div>
        <div class="sub-label">ğŸï¸ åŠŸèƒ½æ€§é€Ÿåº¦</div>
        <div class="btn-group">
            <button class="btn-tempo" data-val="65 BPM, Largo, Slow" onclick="toggleTag(this)">65 (æ…¢æ¿)</button>
            <button class="btn-tempo" data-val="90 BPM, Groove, Head-nodding" onclick="toggleTag(this)">90 (å˜»å“ˆ/Vlog)</button>
            <button class="btn-tempo" data-val="120 BPM, Walking Pace" onclick="toggleTag(this)">120 (æµè¡Œ/èµ°ç§€)</button>
            <button class="btn-tempo" data-val="140 BPM, High Energy" onclick="toggleTag(this)">140 (é‹å‹•/Trap)</button>
            <button class="btn-tempo" data-val="175 BPM, Manic, Fast" onclick="toggleTag(this)">175 (é£†è»Š/Phonk)</button>
        </div>
    </div>

    <div class="layer-box layer-6">
        <span class="title">Layer 6. äººè²èˆ‡æ™‚ä»£ (Vocals)</span>
        <div class="sub-label">ğŸ›ï¸ å¤å…¸ (Classical)</div>
        <div class="btn-group">
            <button class="btn-vox" data-val="Coloratura Soprano" onclick="toggleTag(this)">[å¥³] èŠ±è…”å¥³é«˜éŸ³</button>
            <button class="btn-vox" data-val="Operatic Tenor" onclick="toggleTag(this)">[ç”·] æ­ŒåŠ‡ç”·é«˜éŸ³</button>
            <button class="btn-vox" data-val="Baroque Soprano, Straight Tone" onclick="toggleTag(this)">[å¥³] å·´æ´›å…‹ç›´è²</button>
            <button class="btn-vox" data-val="Countertenor" onclick="toggleTag(this)">[ç”·] å‡è²ç”·é«˜éŸ³</button>
        </div>
        <div class="sub-label">ğŸ“» æ‡·èˆŠ (70s-90s)</div>
        <div class="btn-group">
            <button class="btn-vox" data-val="70s Soul Diva" onclick="toggleTag(this)">[å¥³] 70s éˆé­‚</button>
            <button class="btn-vox" data-val="70s Soft Rocker" onclick="toggleTag(this)">[ç”·] 70s è»Ÿæ–æ»¾</button>
            <button class="btn-vox" data-val="90s R&B Diva" onclick="toggleTag(this)">[å¥³] 90s è½‰éŸ³</button>
            <button class="btn-vox" data-val="90s Grunge Vocals" onclick="toggleTag(this)">[ç”·] 90s ç²—ç·</button>
        </div>
        <div class="sub-label">ğŸ“± ç¾ä»£ (Gen Z)</div>
        <div class="btn-group">
            <button class="btn-vox" data-val="Whisper Pop, Breathy" onclick="toggleTag(this)">[å¥³] æ°£è²/è‡¥å®¤</button>
            <button class="btn-vox" data-val="Melodic Rap, Auto-tune" onclick="toggleTag(this)">[ç”·] æ—‹å¾‹é¥’èˆŒ</button>
            <button class="btn-vox" data-val="Anime Vocals, High-pitched" onclick="toggleTag(this)">[å¥³] äºŒæ¬¡å…ƒ/åŠ é€Ÿ</button>
            <button class="btn-vox" data-val="Phonk Vocals, Distorted" onclick="toggleTag(this)">[ç”·] Phonk/å¤±çœŸ</button>
        </div>
    </div>

    <div class="layer-box layer-8">
        <span class="title">Layer 8. æ¿¾é¡èˆ‡æ’é™¤ (Filters & FX)</span>
        <div class="sub-label">ğŸ›ï¸ éŸ³è³ªæ¿¾é¡ (Texture)</div>
        <div class="btn-group">
            <button class="btn-mix" data-val="Vintage Vinyl, Crackle, 1950s" onclick="toggleTag(this)">ğŸ“¼ å¾©å¤é»‘è† </button>
            <button class="btn-mix" data-val="Lo-fi, Muffled, Underwater" onclick="toggleTag(this)">ğŸ“» æ‚¶éŸ³/Lo-fi</button>
            <button class="btn-mix" data-val="Heavily Distorted, Fried Audio" onclick="toggleTag(this)">âš¡ ç ´éŸ³/å¤±çœŸ</button>
            <button class="btn-mix" data-val="High Fidelity, Pristine" onclick="toggleTag(this)">âœ¨ é«˜æ¸…/ç¾ä»£</button>
        </div>
        <div class="sub-label">ğŸŸï¸ ç©ºé–“æ„Ÿ (Space)</div>
        <div class="btn-group">
            <button class="btn-mix" data-val="Live Recording, Stadium Reverb, Crowd" onclick="toggleTag(this)">ğŸ¤ æ¼”å”±æœƒç¾å ´</button>
            <button class="btn-mix" data-val="Dry Sound, Close-mic, ASMR" onclick="toggleTag(this)">ğŸ™ï¸ éŒ„éŸ³å®¤ä¹¾è²</button>
            <button class="btn-mix" data-val="Huge Reverb, Ethereal, Cinematic" onclick="toggleTag(this)">ğŸŒŒ ç©ºéˆå¤§ç©ºé–“</button>
        </div>
        <div class="sub-label" style="color:#eb4d4b;">â›” æ’é™¤ (Eraser)</div>
        <div class="btn-group">
            <button class="btn-neg" data-val="[No Drums], [Beatless]" onclick="toggleTag(this)">ğŸš« ç„¡é¼“è²</button>
            <button class="btn-neg" data-val="[Instrumental], [No Vocals]" onclick="toggleTag(this)">ğŸš« ç´”éŸ³æ¨‚ (å¿…é¸)</button>
        </div>
    </div>

    <div class="result-area">
        <div style="margin-bottom:8px;">
            <input type="text" id="customInput" class="custom-input" placeholder="âœ¨ è£œå……æŒ‡ä»¤ (è«‹ä¾ä¸Šæ–¹æ³•å‰‡è¼¸å…¥ï¼Œä¾‹: Rain sounds, Broken robot...)" oninput="render()">
        </div>
        <div style="display:flex; justify-content:space-between; color:#f1c40f; font-weight:bold; margin-bottom:5px; font-size:14px;">
            <span>ğŸ“œ æœ€çµ‚ç”ŸæˆæŒ‡ä»¤ï¼š</span>
            <span style="cursor:pointer; text-decoration: underline;" onclick="resetAll()">[ é‡ç½®å…¨éƒ¨ ]</span>
        </div>
        <textarea id="output" placeholder="è«‹é»é¸ä¸Šæ–¹æŒ‰éˆ•é–‹å§‹çµ„åˆ..." readonly></textarea>
        <button class="copy-btn" onclick="copyText()">ğŸ“‹ è¤‡è£½æŒ‡ä»¤ (Copy)</button>
    </div>

    <script>
        let struct = "";
        let tags = [];

        // é»ƒé‡‘é…æ–¹ (é€£å‹•æ–°ç‰ˆ Layer 4 æƒ…ç·’)
        const recipes = {
            'intimate': ['[Atmospheric Intro], [Main Theme], [Slow Build Up], [Emotional Climax], [Fade Out]', 'Minimalism', 'Minor Key, Melancholic, Slow Tempo, Emotional, Lonely', 'Solo Cello', 'Solo Violin', 'Grand Piano', 'Dry Sound, Close-mic, ASMR', '[Instrumental], [No Vocals]', '65 BPM, Largo, Slow', '[3 Minutes], [Radio Edit]'],
            'epic': ['[Grand Overture], [Soloist Entry], [Complex Development], [Cadenza], [Grand Finale]', 'Classical, Orchestral, Film Score', 'Minor Key, Melancholic, Slow Tempo, Emotional, Lonely', 'Epic Build Up, Triumphant, Powerful, Heroic, Orchestral Swell', 'String Quartet', 'Hans Zimmer Style', 'High Fidelity, Pristine', '[Instrumental], [No Vocals]', '90 BPM, Groove, Head-nodding'],
            'cyberpunk': ['[Catchy Hook], [Fast Build Up], [Drop], [High Energy Chorus], [Sudden End]', 'Modern Pop, Synth-pop, EDM', 'Ominous, Dark Tension, Dissonant, Suspenseful, Dangerous', 'Synthesizer Lead', 'Heavy 808 Bass', 'Huge Reverb, Ethereal, Cinematic', '[Instrumental], [No Vocals]', '120 BPM, Walking Pace'],
            'ghibli': ['[Atmospheric Intro], [Main Theme], [Slow Build Up], [Emotional Climax], [Fade Out]', 'Classical, Orchestral, Film Score', 'J-Pop, Anime Opening, High Energy', 'Major Key, Uplifting, High Energy, Playful, Optimistic', 'Grand Piano', 'String Quartet', 'High Fidelity, Pristine', '[Instrumental], [No Vocals]', '90 BPM, Groove, Head-nodding'],
            'phonk': ['[Catchy Hook], [Fast Build Up], [Drop], [High Energy Chorus], [Sudden End]', 'Drift Phonk, Cowbell, Aggressive', 'Ominous, Dark Tension, Dissonant, Suspenseful, Dangerous', 'Phonk Cowbell', 'Heavy 808 Bass', 'Heavily Distorted, Fried Audio', '[Instrumental], [No Vocals]', '175 BPM, Manic, Fast'],
            'lofi': ['[Soft Intro], [Steady Rhythm], [Linear Progression], [No Sudden Changes], [Seamless Loop]', 'Lofi, Ambient, Chillout', 'Nostalgic, Sentimental, Warm, Bittersweet', 'Grand Piano', 'Lo-fi Vinyl Crackle', 'Lo-fi, Muffled, Underwater', '[Instrumental], [No Vocals]', '90 BPM, Groove, Head-nodding'],
            'kpop': ['[Intro], [Verse 1], [Pre-Chorus], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]', 'Modern Pop, Synth-pop, EDM', 'K-Pop, K-Idol, Catchy Hook', 'Major Key, Uplifting, High Energy, Playful, Optimistic', 'Synthesizer Lead', 'Trap Drum Machine', 'High Fidelity, Pristine', '120 BPM, Walking Pace'],
            'latin': ['[Catchy Hook], [Fast Build Up], [Drop], [High Energy Chorus], [Sudden End]', 'Latin Pop, Reggaeton, Afrobeats', 'Reggaeton, Latin Pop, Urbano', 'Acoustic Guitar', 'Live Drum Kit', 'High Fidelity, Pristine', '120 BPM, Walking Pace']
        };

        function applyPreset(name) {
            resetAll();
            const recipe = recipes[name];
            if (!recipe) return;
            recipe.forEach(val => {
                const structBtn = document.querySelector(`.btn-struct[data-val="${val}"]`);
                if (structBtn) setStruct(structBtn);
                const otherBtn = document.querySelector(`button:not(.btn-struct)[data-val="${val}"]`);
                if (otherBtn) toggleTag(otherBtn);
            });
        }

        function setStruct(el) {
            const val = el.getAttribute('data-val');
            if(!val) { alert("âš ï¸ éŒ¯èª¤ï¼šå¼•è™Ÿè®€å–å¤±æ•—ï¼Œè«‹ç¢ºèªå·²é—œé–‰ Mac æ™ºæ…§å‹å¼•è™Ÿã€‚"); return; }
            document.querySelectorAll('.btn-struct').forEach(b => b.classList.remove('active'));
            if (struct === val) { struct = ""; } 
            else { struct = val; el.classList.add('active'); }
            render();
        }

        function toggleTag(el) {
            const val = el.getAttribute('data-val');
            if(!val) { alert("âš ï¸ éŒ¯èª¤ï¼šå¼•è™Ÿè®€å–å¤±æ•—ã€‚"); return; }
            if (tags.includes(val)) {
                tags = tags.filter(t => t !== val);
                el.classList.remove('active');
            } else {
                tags.push(val);
                el.classList.add('active');
            }
            render();
        }

        function resetAll() {
            struct = "";
            tags = [];
            document.getElementById('customInput').value = "";
            document.querySelectorAll('button').forEach(b => b.classList.remove('active'));
            render();
        }

        function render() {
            let res = "";
            let customText = document.getElementById('customInput').value.trim();
            if (struct) res += "Structure: " + struct + " | ";
            let allTags = [...tags];
            if (customText) allTags.push(customText);
            if (allTags.length > 0) res += "Style: " + allTags.join(", ");
            document.getElementById('output').value = res;
        }

        function copyText() {
            let box = document.getElementById('output');
            if(!box.value) return alert("è«‹å…ˆé¸æ“‡ï¼");
            box.select();
            navigator.clipboard.writeText(box.value);
            let btn = document.querySelector('.copy-btn');
            let orig = btn.innerText;
            btn.innerText = "âœ… è¤‡è£½æˆåŠŸï¼";
            setTimeout(() => btn.innerText = orig, 2000);
        }
    </script>
</body>
</html>