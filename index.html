<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>AIéŸ³æ¨‚æŒ‡ä»¤ç”Ÿæˆå™¨ by Willis Liu</title>
    <style>
        /* åŸºç¤è¨­å®š */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f5f6fa;
            padding: 20px;
            padding-bottom: 600px; /* åº•éƒ¨ç•™ç™½ */
            max-width: 1100px;
            margin: 0 auto;
            color: #2d3436;
        }

        h2 { text-align: center; border-bottom: 3px solid #b2bec3; padding-bottom: 15px; margin-bottom: 25px; }

        /* å€å¡Šè¨­è¨ˆ */
        .layer-box {
            background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px;
            border-left: 8px solid #ccc; box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        /* é¡è‰²è­˜åˆ¥ */
        .layer-recipe { border-left-color: #000; background: linear-gradient(to right, #fff, #fbf5e6); border: 2px solid #e1b12c; }
        .layer-1 { border-left-color: #0984e3; }
        .layer-2 { border-left-color: #d63031; }
        .layer-region { border-left-color: #00b894; }
        .layer-theory { border-left-color: #6ab04c; }
        .layer-3 { border-left-color: #f1c40f; }
        .layer-3b { border-left-color: #e84393; }
        .layer-4 { border-left-color: #0984e3; }
        .layer-6 { border-left-color: #2d3436; }

        .title { font-weight: 800; font-size: 16px; margin-bottom: 15px; display: block; }
        .btn-group { display: flex; flex-wrap: wrap; gap: 8px; }

        /* æŒ‰éˆ•é€šç”¨ */
        button {
            padding: 8px 14px; border: 2px solid #dfe6e9; background: white; border-radius: 8px;
            cursor: pointer; font-size: 13px; font-weight: 600; color: #636e72; transition: all 0.1s;
        }
        button:hover { transform: translateY(-2px); border-color: #b2bec3; }

        /* é»ƒé‡‘é…æ–¹æŒ‰éˆ• */
        .btn-recipe {
            border-color: #e1b12c; color: #b78e16; background: #fffdf0; flex: 1 0 18%;
            text-align: center; box-shadow: 0 2px 5px rgba(225, 177, 44, 0.2);
        }
        .btn-recipe:hover { background: #e1b12c; color: white; transform: scale(1.02); }

        /* æ¿€æ´»ç‹€æ…‹ */
        .btn-struct.active { background: #0984e3; color: white; border-color: #0984e3; }
        .btn-style.active { background: #d63031; color: white; border-color: #d63031; }
        .btn-region.active { background: #00b894; color: white; border-color: #00b894; }
        .btn-theory.active { background: #6ab04c; color: white; border-color: #6ab04c; }
        .btn-inst.active { background: #f1c40f; color: white; border-color: #f1c40f; text-shadow: 0 1px 1px rgba(0,0,0,0.2); }
        .btn-vox.active { background: #e84393; color: white; border-color: #e84393; }
        .btn-time.active { background: #0984e3; color: white; border-color: #0984e3; }
        .btn-bpm.active { background: #6c5ce7; color: white; border-color: #6c5ce7; }
        .btn-prod.active { background: #2d3436; color: white; border-color: #2d3436; }
        .btn-neg.active { background: #eb4d4b; color: white; border-color: #eb4d4b; }

        .sub-label { width: 100%; font-size: 13px; font-weight: bold; color: #b2bec3; margin: 15px 0 8px 0; border-bottom: 1px dashed #e1e1e1; padding-bottom: 2px; }

        /* çµæœå€ */
        .result-area {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 900px;
            background-color: #2d3436; padding: 20px; border-radius: 15px; color: white;
            box-shadow: 0 15px 40px rgba(0,0,0,0.5); z-index: 9999; border: 2px solid #00b894;
        }
        
        .custom-input {
            width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 6px; border: 1px solid #555;
            background: #dfe6e9; color: #2d3436; font-size: 14px;
        }

        textarea {
            width: 100%; height: 80px; background: #353b48; color: #55efc4; border: 1px solid #555;
            padding: 10px; border-radius: 8px; font-size: 14px; font-family: monospace; resize: none;
        }
        .copy-btn {
            width: 100%; padding: 12px; background: #00b894; color: #2d3436; font-weight: bold; font-size: 16px;
            border: none; border-radius: 8px; cursor: pointer; margin-top: 10px;
        }
        .copy-btn:hover { background: #55efc4; }

    </style>
</head>
<body>

    <h2>ğŸ» AIéŸ³æ¨‚æŒ‡ä»¤ç”Ÿæˆå™¨ by Willis Liu</h2>

    <div class="layer-box layer-recipe">
        <span class="title" style="color:#b78e16">ğŸ† Layer 0. é»ƒé‡‘é…æ–¹ (Golden Recipes)</span>
        <div class="btn-group">
            <button class="btn-recipe" onclick="applyPreset('intimate')">1. æƒ…æ„Ÿç¨å¥ (Olafur)</button>
            <button class="btn-recipe" onclick="applyPreset('epic')">2. å²è©©å‹•ä½œ (Zimmer)</button>
            <button class="btn-recipe" onclick="applyPreset('cyberpunk')">3. è³½åšæœªä¾† (Blade Runner)</button>
            <button class="btn-recipe" onclick="applyPreset('fantasy')">4. å¥‡å¹»é­”æ³• (Harry Potter)</button>
            <button class="btn-recipe" onclick="applyPreset('horror')">5. ç¾ä»£é©šæ‚š (Joker)</button>
            <button class="btn-recipe" onclick="applyPreset('baroque')">6. çš‡å®¶å·´æ´›å…‹</button>
            <button class="btn-recipe" onclick="applyPreset('ghibli')">7. å‰åœåŠ›é¢¨ (ä¹…çŸ³è®“)</button>
            <button class="btn-recipe" onclick="applyPreset('silkroad')">8. çµ²è·¯ä¹‹æ—… (ä¸­è¥¿)</button>
            <button class="btn-recipe" onclick="applyPreset('kpop')">9. éŸ“æµä¾†è¥² (K-Pop)</button>
            <button class="btn-recipe" onclick="applyPreset('latin')">10. ç†±æƒ…æ‹‰ä¸ (Bossa)</button>
        </div>
    </div>

    <div class="layer-box layer-1">
        <span class="title">Layer 1. çµæ§‹éª¨æ¶</span>
        <div class="btn-group">
            <button class="btn-struct" data-val="[Intro], [Verse 1], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]" onclick="setStruct(this)">æ¨™æº–æµè¡Œæ­Œ</button>
            <button class="btn-struct" data-val="[Intro], [Hook], [Drop], [Hook], [Short Outro]" onclick="setStruct(this)">çŸ­å½±éŸ³çˆ†é»</button>
            <button class="btn-struct" data-val="[Orchestral Intro], [Violin Solo], [Cadenza], [Grand Finale]" onclick="setStruct(this)">å”å¥æ›²å±•æŠ€</button>
            <button class="btn-struct" data-val="[Atmospheric Intro], [Steady Beat], [Developing Textures], [Fade Out]" onclick="setStruct(this)">å¾ªç’°èƒŒæ™¯æ¨‚</button>
            <button class="btn-struct" data-val="[Count In], [Simple Intro], [Repetitive Groove], [Steady Rhythm]" onclick="setStruct(this)">æ•™å­¸ä¼´å¥</button>
        </div>
    </div>

    <div class="layer-box layer-2">
        <span class="title">Layer 2. é¢¨æ ¼èˆ‡æƒ…ç·’</span>
        <div class="btn-group">
            <button class="btn-style" data-val="Baroque Pop" onclick="toggleTag(this)">å·´æ´›å…‹æµè¡Œ</button>
            <button class="btn-style" data-val="Cyberpunk Strings" onclick="toggleTag(this)">è³½åšé¾å…‹</button>
            <button class="btn-style" data-val="Cinematic Epic" onclick="toggleTag(this)">å²è©©é›»å½±</button>
            <button class="btn-style" data-val="Minimalism" onclick="toggleTag(this)">æ¥µç°¡ä¸»ç¾©</button>
            <button class="btn-style" data-val="Intimate, Emotional" onclick="toggleTag(this)">è¦ªå¯†æ„Ÿ</button>
            <button class="btn-style" data-val="Ominous, Dark" onclick="toggleTag(this)">å£“è¿«/é»‘æš—</button>
            <button class="btn-style" data-val="Ethereal, Dreamy" onclick="toggleTag(this)">ç©ºéˆå¤¢å¹»</button>
            <button class="btn-style" data-val="Uplifting Corporate" onclick="toggleTag(this)">æŒ¯å¥®äººå¿ƒ</button>
        </div>
    </div>

    <div class="layer-box layer-region">
        <span class="title">Layer 2.5 åœ°å€ç‰¹è‰²</span>
        <div class="sub-label">ğŸŒ äºæ´²</div>
        <div class="btn-group">
            <button class="btn-region" data-val="K-Pop, Idol, Catchy" onclick="toggleTag(this)">ğŸ‡°ğŸ‡· K-Pop</button>
            <button class="btn-region" data-val="J-Pop, City Pop, Anime Style" onclick="toggleTag(this)">ğŸ‡¯ğŸ‡µ J-Pop</button>
            <button class="btn-region" data-val="C-Pop, Mandopop, Chinese Traditional" onclick="toggleTag(this)">ğŸ‡¨ğŸ‡³ C-Pop</button>
            <button class="btn-region" data-val="Bollywood, Indian Pop" onclick="toggleTag(this)">ğŸ‡®ğŸ‡³ Bollywood</button>
        </div>
        <div class="sub-label">ğŸ° æ­ç¾</div>
        <div class="btn-group">
            <button class="btn-region" data-val="US Pop, Billboard Chart" onclick="toggleTag(this)">ğŸ‡ºğŸ‡¸ US Billboard</button>
            <button class="btn-region" data-val="Britpop, UK Rock" onclick="toggleTag(this)">ğŸ‡¬ğŸ‡§ UK Sound</button>
            <button class="btn-region" data-val="French Chanson, Accordion" onclick="toggleTag(this)">ğŸ‡«ğŸ‡· French</button>
            <button class="btn-region" data-val="Nordic Noir, Scandi" onclick="toggleTag(this)">ğŸ‡¸ğŸ‡ª Nordic</button>
        </div>
        <div class="sub-label">ğŸï¸ å…¶ä»–</div>
        <div class="btn-group">
            <button class="btn-region" data-val="Latin Pop, Reggaeton, Bossa Nova" onclick="toggleTag(this)">ğŸ‡§ğŸ‡· Latin</button>
            <button class="btn-region" data-val="Afrobeats, Percussive" onclick="toggleTag(this)">ğŸŒ Afrobeats</button>
        </div>
    </div>

    <div class="layer-box layer-theory">
        <span class="title">Layer 2.6 èª¿æ€§èˆ‡å’Œè²</span>
        <div class="btn-group">
            <button class="btn-theory" data-val="Major Key, Bright" onclick="toggleTag(this)">å¤§èª¿</button>
            <button class="btn-theory" data-val="Minor Key, Sad" onclick="toggleTag(this)">å°èª¿</button>
            <button class="btn-theory" data-val="Dorian Mode, Mysterious" onclick="toggleTag(this)">å¤šé‡Œå®‰</button>
            <button class="btn-theory" data-val="Atonal, Dissonant" onclick="toggleTag(this)">ç„¡èª¿æ€§</button>
            <button class="btn-theory" data-val="Pentatonic Scale" onclick="toggleTag(this)">äº”è²éŸ³éš</button>
        </div>
    </div>

    <div class="layer-box layer-3">
        <span class="title">Layer 3. å™¨æ¨‚é…å™¨</span>
        <div class="sub-label">ğŸ» å¼¦æ¨‚</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Solo Violin" onclick="toggleTag(this)">å°æç´</button>
            <button class="btn-inst" data-val="Solo Cello" onclick="toggleTag(this)">å¤§æç´</button>
            <button class="btn-inst" data-val="String Quartet" onclick="toggleTag(this)">å¼¦æ¨‚å››é‡å¥</button>
            <button class="btn-inst" data-val="Harp" onclick="toggleTag(this)">è±ç´</button>
        </div>
        <div class="sub-label">ğŸ· ç®¡æ¨‚</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Flute" onclick="toggleTag(this)">é•·ç¬›</button>
            <button class="btn-inst" data-val="Oboe" onclick="toggleTag(this)">é›™ç°§ç®¡</button>
            <button class="btn-inst" data-val="French Horn" onclick="toggleTag(this)">æ³•åœ‹è™Ÿ</button>
            <button class="btn-inst" data-val="Trombone" onclick="toggleTag(this)">é•·è™Ÿ</button>
        </div>
        <div class="sub-label">ğŸ® æ±æ–¹</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Erhu" onclick="toggleTag(this)">äºŒèƒ¡</button>
            <button class="btn-inst" data-val="Guzheng" onclick="toggleTag(this)">å¤ç®</button>
            <button class="btn-inst" data-val="Shakuhachi" onclick="toggleTag(this)">å°ºå…«</button>
            <button class="btn-inst" data-val="Taiko Drums" onclick="toggleTag(this)">å¤ªé¼“</button>
        </div>
        <div class="sub-label">ğŸ¸ ç¾ä»£</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Grand Piano" onclick="toggleTag(this)">é‹¼ç´</button>
            <button class="btn-inst" data-val="Heavy 808 Bass" onclick="toggleTag(this)">808é‡ä½éŸ³</button>
            <button class="btn-inst" data-val="Synthesizer" onclick="toggleTag(this)">åˆæˆå™¨</button>
            <button class="btn-inst" data-val="Celesta" onclick="toggleTag(this)">é‹¼ç‰‡ç´</button>
        </div>
    </div>

    <div class="layer-box layer-3b">
        <span class="title">Layer 3B. äººè²èˆ‡æ™‚ä»£æ„Ÿ</span>
        <div class="btn-group">
            <button class="btn-vox" data-val="Coloratura Soprano" onclick="toggleTag(this)">èŠ±è…”å¥³é«˜éŸ³</button>
            <button class="btn-vox" data-val="Operatic Tenor" onclick="toggleTag(this)">æ­ŒåŠ‡ç”·é«˜éŸ³</button>
            <button class="btn-vox" data-val="Choir" onclick="toggleTag(this)">åˆå”±åœ˜</button>
            <button class="btn-vox" data-val="Countertenor, Early Music Style" onclick="toggleTag(this)">å·´æ´›å…‹ç”·è²</button>
            <button class="btn-vox" data-val="Wagnerian Tenor, Dramatic" onclick="toggleTag(this)">å¾Œæµªæ¼«ç”·è²</button>
            <button class="btn-vox" data-val="70s Soft Rock Male Vocals" onclick="toggleTag(this)">70s ç”·è²</button>
            <button class="btn-vox" data-val="90s Grunge Male Vocals" onclick="toggleTag(this)">90s ç”·è²</button>
            <button class="btn-vox" data-val="Gen Z Female Vocals, Breathy" onclick="toggleTag(this)">Gen Z å¥³è²</button>
        </div>
    </div>

    <div class="layer-box layer-4">
        <span class="title">Layer 4 & 5. æ™‚é–“èˆ‡é€Ÿåº¦</span>
        <div class="sub-label">â±ï¸ æ™‚é–“</div>
        <div class="btn-group">
            <button class="btn-time" data-val="[1 Minute], [Short]" onclick="toggleTag(this)">1 åˆ†é˜</button>
            <button class="btn-time" data-val="[2 Minutes]" onclick="toggleTag(this)">2 åˆ†é˜</button>
            <button class="btn-time" data-val="[3 Minutes], [Full Structure]" onclick="toggleTag(this)">3 åˆ†é˜</button>
        </div>
        <div class="sub-label">ğŸï¸ BPM</div>
        <div class="btn-group">
            <button class="btn-bpm" data-val="60 BPM, Largo" onclick="toggleTag(this)">60 BPM</button>
            <button class="btn-bpm" data-val="80 BPM, Adagio" onclick="toggleTag(this)">80 BPM</button>
            <button class="btn-bpm" data-val="120 BPM, Moderato" onclick="toggleTag(this)">120 BPM</button>
            <button class="btn-bpm" data-val="140 BPM, Allegro" onclick="toggleTag(this)">140 BPM</button>
            <button class="btn-bpm" data-val="170+ BPM, Presto" onclick="toggleTag(this)">170+ BPM</button>
        </div>
    </div>

    <div class="layer-box layer-6">
        <span class="title">Layer 6. è£½ä½œèˆ‡æ’é™¤</span>
        <div class="btn-group">
            <button class="btn-prod" data-val="High Fidelity" onclick="toggleTag(this)">é«˜å‚³çœŸ</button>
            <button class="btn-prod" data-val="Masterpiece" onclick="toggleTag(this)">å‚‘ä½œç´š</button>
            <button class="btn-prod" data-val="Wide Stereo" onclick="toggleTag(this)">å¯¬ç«‹é«”è²</button>
            <button class="btn-prod" data-val="Hans Zimmer Style" onclick="toggleTag(this)">å­£é»˜å¤§å‹•æ…‹</button>
            <button class="btn-prod" data-val="[Instrumental]" onclick="toggleTag(this)">ğŸš« ç´”éŸ³æ¨‚</button>
        </div>
        <div class="sub-label" style="color:#eb4d4b;">â›” æ’é™¤é …ç›®</div>
        <div class="btn-group">
            <button class="btn-neg" data-val="[No Drums]" onclick="toggleTag(this)">ç„¡é¼“è²</button>
            <button class="btn-neg" data-val="[No Percussion]" onclick="toggleTag(this)">ç„¡æ‰“æ“Šæ¨‚</button>
            <button class="btn-neg" data-val="[Acoustic Only]" onclick="toggleTag(this)">ç´”åŸè²</button>
        </div>
    </div>

    <div class="result-area">
        <div style="margin-bottom:10px;">
            <input type="text" id="customInput" class="custom-input" placeholder="âœ¨ ä»»ä½•è£œå……æŒ‡ä»¤ (ä¾‹å¦‚: Sound of rain, Joe Hisaishi style...)" oninput="render()">
        </div>
        <div style="display:flex; justify-content:space-between; color:#00b894; font-weight:bold; margin-bottom:5px;">
            <span>ğŸ“œ æœ€çµ‚ç”ŸæˆæŒ‡ä»¤ï¼š</span>
            <span style="cursor:pointer; text-decoration: underline;" onclick="resetAll()">[ é‡ç½®å…¨éƒ¨ ]</span>
        </div>
        <textarea id="output" placeholder="è«‹é¸æ“‡é¸é …..." readonly></textarea>
        <button class="copy-btn" onclick="copyText()">ğŸ“‹ è¤‡è£½æŒ‡ä»¤</button>
    </div>

    <script>
        let struct = "";
        let tags = [];

        const recipes = {
            'intimate': ['[Atmospheric Intro], [Steady Beat], [Developing Textures], [Fade Out]', 'Minimalism', 'Intimate, Emotional', 'Minor Key, Sad', 'Nordic Noir, Scandi', 'Solo Cello', 'Solo Violin', 'Grand Piano', 'Wide Stereo', '[Instrumental]', '60 BPM, Largo', '[2 Minutes]'],
            'epic': ['[Orchestral Intro], [Violin Solo], [Cadenza], [Grand Finale]', 'Cinematic Epic', 'Minor Key, Sad', 'French Horn', 'Trombone', 'Taiko Drums', 'String Quartet', 'Hans Zimmer Style', 'High Fidelity', '[Instrumental]', '80 BPM, Adagio', '[3 Minutes], [Full Structure]'],
            'cyberpunk': ['[Intro], [Hook], [Drop], [Hook], [Short Outro]', 'Cyberpunk Strings', 'Ominous, Dark', 'J-Pop, City Pop, Anime Style', 'Electric Violin', 'Heavy 808 Bass', 'Synthesizer', 'Spatial Audio', '[Instrumental]', '120 BPM, Moderato', '[2 Minutes]'],
            'fantasy': ['[Orchestral Intro], [Violin Solo], [Cadenza], [Grand Finale]', 'Ethereal, Dreamy', 'Major Key, Bright', 'Harp', 'Flute', 'Celesta', 'Choir', 'High Fidelity', 'Wide Stereo', '80 BPM, Adagio', '[3 Minutes], [Full Structure]'],
            'horror': ['[Atmospheric Intro], [Steady Beat], [Developing Textures], [Fade Out]', 'Ominous, Dark', 'Atonal, Dissonant', 'Solo Cello', 'String Quartet', 'Spatial Audio', '60 BPM, Largo', '[Instrumental]', '[1 Minute], [Short]'],
            'baroque': ['[Intro], [Verse 1], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]', 'Baroque Pop', 'Major Key, Bright', 'Britpop, UK Rock', 'String Quartet', 'Grand Piano', 'Synthesizer', 'High Fidelity', '120 BPM, Moderato', '[3 Minutes], [Full Structure]'],
            'ghibli': ['[Intro], [Verse 1], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]', 'Cinematic Epic', 'Ethereal, Dreamy', 'Major Key, Bright', 'J-Pop, City Pop, Anime Style', 'Grand Piano', 'Oboe', 'String Quartet', 'Masterpiece', '[Instrumental]', '100 BPM, Andante', '[3 Minutes], [Full Structure]'],
            'silkroad': ['[Orchestral Intro], [Violin Solo], [Cadenza], [Grand Finale]', 'Cinematic Epic', 'Pentatonic Scale', 'C-Pop, Mandopop, Chinese Traditional', 'Solo Cello', 'Erhu', 'Shakuhachi', 'Taiko Drums', 'Masterpiece', '[Instrumental]', '80 BPM, Adagio', '[4 Minutes], [Extended]'],
            'kpop': ['[Intro], [Verse 1], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]', 'Uplifting Corporate', 'K-Pop, Idol, Catchy', 'Major Key, Bright', 'Synthesizer', 'Heavy 808 Bass', 'High Fidelity', '140 BPM, Allegro', '[3 Minutes], [Full Structure]'],
            'latin': ['[Intro], [Hook], [Drop], [Hook], [Short Outro]', 'Intimate, Emotional', 'Latin Pop, Reggaeton, Bossa Nova', 'Minor Key, Sad', 'Solo Violin', 'Grand Piano', 'High Fidelity', '120 BPM, Moderato', '[2 Minutes]']
        };

        function applyPreset(name) {
            resetAll();
            const recipe = recipes[name];
            if (!recipe) return;
            recipe.forEach(val => {
                const structBtn = document.querySelector(`.btn-struct[data-val="${val}"]`);
                if (structBtn) setStruct(structBtn);
                const otherBtn = document.querySelector(`button:not(.btn-struct)[data-val="${val}"]`);
                if (otherBtn) toggleTag(otherBtn);
            });
        }

        function setStruct(el) {
            const val = el.getAttribute('data-val');
            if(!val) { alert("âš ï¸ éŒ¯èª¤ï¼šè®€å–ä¸åˆ°æŒ‡ä»¤ï¼Œè«‹ç¢ºèªå·²é—œé–‰ Mac æ™ºæ…§å‹å¼•è™Ÿè¨­å®šã€‚"); return; }
            document.querySelectorAll('.btn-struct').forEach(b => b.classList.remove('active'));
            if (struct === val) { struct = ""; } 
            else { struct = val; el.classList.add('active'); }
            render();
        }

        function toggleTag(el) {
            const val = el.getAttribute('data-val');
            if(!val) { alert("âš ï¸ éŒ¯èª¤ï¼šè®€å–ä¸åˆ°æŒ‡ä»¤ï¼Œè«‹ç¢ºèªå·²é—œé–‰ Mac æ™ºæ…§å‹å¼•è™Ÿè¨­å®šã€‚"); return; }
            if (tags.includes(val)) {
                tags = tags.filter(t => t !== val);
                el.classList.remove('active');
            } else {
                tags.push(val);
                el.classList.add('active');
            }
            render();
        }

        function resetAll() {
            struct = "";
            tags = [];
            document.getElementById('customInput').value = "";
            document.querySelectorAll('button').forEach(b => b.classList.remove('active'));
            render();
        }

        function render() {
            let res = "";
            let customText = document.getElementById('customInput').value.trim();
            if (struct) res += "Structure: " + struct + " | ";
            let allTags = [...tags];
            if (customText) allTags.push(customText);
            if (allTags.length > 0) res += "Style: " + allTags.join(", ");
            document.getElementById('output').value = res;
        }

        function copyText() {
            let box = document.getElementById('output');
            if(!box.value) return alert("è«‹å…ˆé¸æ“‡ï¼");
            box.select();
            navigator.clipboard.writeText(box.value);
            let btn = document.querySelector('.copy-btn');
            let orig = btn.innerText;
            btn.innerText = "âœ… è¤‡è£½æˆåŠŸï¼";
            setTimeout(() => btn.innerText = orig, 2000);
        }
    </script>
</body>
</html>