<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AIéŸ³æ¨‚æŒ‡ä»¤ç”Ÿæˆå™¨ by Willis Liu (V17.0)</title>
    <style>
        /* --- åŸºç¤è¨­å®š --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f5f6fa; padding: 15px; padding-bottom: 600px;
            max-width: 1000px; margin: 0 auto; color: #2d3436; -webkit-text-size-adjust: 100%;
        }
        h2 { text-align: center; border-bottom: 3px solid #b2bec3; padding-bottom: 15px; margin-bottom: 20px; font-size: 1.5rem; }

        /* --- å€å¡Šèˆ‡é¡è‰² --- */
        .layer-box { background: white; padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 6px solid #ccc; }
        .layer-recipe { border-left-color: #f1c40f; background: linear-gradient(to right, #fff, #fffbf0); border: 2px solid #f1c40f; }
        .layer-1 { border-left-color: #0984e3; } /* çµæ§‹ */
        .layer-2 { border-left-color: #d63031; } /* é¢¨æ ¼ */
        .layer-2b { border-left-color: #00b894; } /* æµé‡ */
        .layer-4 { border-left-color: #e84393; } /* æƒ…æ„Ÿ */
        .layer-6 { border-left-color: #fd79a8; } /* äººè² (é‡é»ä¿®æ”¹) */
        .layer-5 { border-left-color: #e17055; } /* é€Ÿåº¦ */
        .layer-3 { border-left-color: #6c5ce7; } /* æ¨‚å™¨ */
        .layer-8 { border-left-color: #2d3436; } /* æ¿¾é¡ */

        .title { font-weight: 800; font-size: 15px; margin-bottom: 10px; display: block; }
        .btn-group { display: flex; flex-wrap: wrap; gap: 8px; }

        /* --- æŒ‰éˆ• --- */
        button {
            padding: 8px 12px; border: 1px solid #dfe6e9; background: white; border-radius: 6px;
            cursor: pointer; font-size: 13px; font-weight: 600; color: #636e72; transition: all 0.1s;
            flex: 1 1 auto; text-align: center; min-width: 80px;
        }
        button:active { transform: scale(0.98); }
        .btn-recipe { border-color: #f1c40f; color: #d35400; background: #fff; box-shadow: 0 2px 4px rgba(241, 196, 15, 0.2); }
        .btn-recipe:hover { background: #f1c40f; color: white; }

        /* --- æ¿€æ´»ç‹€æ…‹ --- */
        .btn-struct.active { background: #0984e3; color: white; border-color: #0984e3; }
        .btn-style.active { background: #d63031; color: white; border-color: #d63031; }
        .btn-region.active { background: #00b894; color: white; border-color: #00b894; }
        .btn-inst.active { background: #6c5ce7; color: white; border-color: #6c5ce7; }
        .btn-emo.active { background: #e84393; color: white; border-color: #e84393; }
        .btn-tempo.active { background: #e17055; color: white; border-color: #e17055; }
        .btn-vox.active { background: #fd79a8; color: white; border-color: #fd79a8; }
        .btn-mix.active { background: #2d3436; color: white; border-color: #2d3436; }
        .btn-neg.active { background: #eb4d4b; color: white; border-color: #eb4d4b; }
        .sub-label { width: 100%; font-size: 12px; font-weight: bold; color: #b2bec3; margin: 10px 0 5px 0; border-bottom: 1px dashed #e1e1e1; padding-bottom: 2px; }

        /* --- ä¸‹æ‹‰æç¤ºèˆ‡è¨ˆæ•¸å™¨ --- */
        .tips-container { margin-bottom: 15px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1); background: white; }
        details { width: 100%; }
        summary { background: linear-gradient(135deg, #6c5ce7, #a29bfe); color: white; padding: 12px 15px; font-weight: bold; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center; }
        summary::-webkit-details-marker { display: none; }
        summary:after { content: "â–¼"; font-size: 12px; transition: 0.2s; }
        details[open] summary:after { transform: rotate(180deg); }
        .tips-content { padding: 15px; display: grid; grid-template-columns: 1fr; gap: 10px; background: #fff; }
        .tip-item { font-size: 13px; color: #2d3436; padding: 8px; border-bottom: 1px solid #eee; }
        .tip-ex { color: #00b894; font-family: monospace; display: block; margin-top: 4px; background: #f0fdf4; padding: 4px; border-radius: 4px;}

        /* --- çµæœé¡¯ç¤ºå€ --- */
        .result-area {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background-color: #2d3436; padding: 15px; border-top: 4px solid #f1c40f;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.3); z-index: 9999; box-sizing: border-box;
        }
        .custom-input {
            width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 6px; border: none;
            background: #dfe6e9; color: #2d3436; font-size: 14px; box-sizing: border-box;
            border: 2px solid transparent; transition: 0.2s;
        }
        .custom-input:focus { border-color: #f1c40f; outline: none; background: #fff; }
        textarea {
            width: 100%; height: 70px; background: #353b48; color: #55efc4; border: 1px solid #555;
            padding: 10px; border-radius: 8px; font-size: 14px; font-family: monospace; resize: none; box-sizing: border-box;
        }
        .char-counter { text-align: right; font-size: 12px; font-weight: bold; margin-top: 5px; font-family: monospace; }
        .count-safe { color: #00b894; }
        .count-warning { color: #fdcb6e; }
        .count-danger { color: #ff7675; }
        .copy-btn {
            width: 100%; padding: 12px; background: #00b894; color: white; font-weight: bold; font-size: 16px; border: none; border-radius: 8px; cursor: pointer; margin-top: 8px;
        }
    </style>
</head>
<body>

    <h2>ğŸ» AIéŸ³æ¨‚æŒ‡ä»¤ç”Ÿæˆå™¨ by Willis Liu</h2>

    <div class="layer-box layer-recipe">
        <span class="title">ğŸ† Layer 0. é»ƒé‡‘é…æ–¹ (æ‡¶äººä¸€éµç”Ÿæˆ)</span>
        <div class="btn-group">
            <button class="btn-recipe" onclick="applyPreset('intimate')">1. æƒ…æ„Ÿç¨å¥ (Olafur)</button>
            <button class="btn-recipe" onclick="applyPreset('epic')">2. å²è©©å‹•ä½œ (Zimmer)</button>
            <button class="btn-recipe" onclick="applyPreset('cyberpunk')">3. è³½åšæœªä¾† (Blade Runner)</button>
            <button class="btn-recipe" onclick="applyPreset('ghibli')">4. å‰åœåŠ›é¢¨ (ä¹…çŸ³è®“)</button>
            <button class="btn-recipe" onclick="applyPreset('phonk')">5. æµé‡å¯†ç¢¼ (Phonk)</button>
            <button class="btn-recipe" onclick="applyPreset('lofi')">6. æ·±å¤œè®€æ›¸ (Lofi)</button>
            <button class="btn-recipe" onclick="applyPreset('kpop')">7. éŸ“æµä¾†è¥² (K-Pop)</button>
            <button class="btn-recipe" onclick="applyPreset('latin')">8. ç†±æƒ…æ‹‰ä¸ (Bossa)</button>
        </div>
    </div>

    <div class="layer-box layer-1">
        <span class="title">ğŸ¬ Layer 1. ä½¿ç”¨å ´æ™¯èˆ‡çµæ§‹ (å¿…é¸)</span>
        <div class="btn-group">
            <button class="btn-struct" data-val="[Intro], [Verse 1], [Pre-Chorus], [Chorus], [Verse 2], [Chorus], [Bridge], [Outro]" onclick="setStruct(this)">ğŸ“» å»£æ’­é‡‘æ›² (å®Œæ•´)</button>
            <button class="btn-struct" data-val="[Catchy Hook], [Fast Build Up], [Drop], [High Energy Chorus], [Sudden End]" onclick="setStruct(this)">ğŸ“± ç—…æ¯’çŸ­å½±éŸ³ (Reels)</button>
            <button class="btn-struct" data-val="[Atmospheric Intro], [Main Theme], [Slow Build Up], [Emotional Climax], [Fade Out]" onclick="setStruct(this)">ğŸ¬ å½±è¦–æ•˜äº‹ (Vlog)</button>
            <button class="btn-struct" data-val="[Soft Intro], [Steady Rhythm], [Linear Progression], [No Sudden Changes], [Seamless Loop]" onclick="setStruct(this)">â˜•ï¸ ç’°å¢ƒæ°›åœ (BGM)</button>
            <button class="btn-struct" data-val="[Grand Overture], [Soloist Entry], [Complex Development], [Cadenza], [Grand Finale]" onclick="setStruct(this)">ğŸ» èˆå°èˆ‡å„€å¼ (å¤å…¸)</button>
        </div>
    </div>

    <div class="layer-box layer-2">
        <span class="title">ğŸ¹ Layer 2. éŸ³æ¨‚é¢¨æ ¼æµæ´¾ (Genre)</span>
        <div class="btn-group">
            <button class="btn-style" data-val="Modern Pop, Synth-pop, EDM" onclick="toggleTag(this)">ğŸ¹ æµè¡Œé›»å­</button>
            <button class="btn-style" data-val="Hip Hop, Trap, R&B, Neo-Soul" onclick="toggleTag(this)">ğŸ¤ å˜»å“ˆç¯€å¥</button>
            <button class="btn-style" data-val="Rock, Alternative, Indie Rock" onclick="toggleTag(this)">ğŸ¸ æ–æ»¾å¦é¡</button>
            <button class="btn-style" data-val="Folk, Acoustic, Singer-Songwriter" onclick="toggleTag(this)">ğŸŒ² æ°‘è¬ é„‰æ‘</button>
            <button class="btn-style" data-val="Jazz, Blues, Bossa Nova, Lounge" onclick="toggleTag(this)">ğŸ· çˆµå£«è—èª¿</button>
            <button class="btn-style" data-val="Classical, Orchestral, Film Score" onclick="toggleTag(this)">ğŸ» å¤å…¸å²è©©</button>
            <button class="btn-style" data-val="Latin Pop, Reggaeton, Afrobeats" onclick="toggleTag(this)">ğŸï¸ æ‹‰ä¸ä¸–ç•Œ</button>
            <button class="btn-style" data-val="Lofi, Ambient, Chillout" onclick="toggleTag(this)">â˜ï¸ æ°›åœä½å‚³çœŸ</button>
        </div>
    </div>

    <div class="layer-box layer-2b">
        <span class="title">ğŸŒ Layer 3. åœ°å€æµé‡å¯†ç¢¼ (ç‰¹å®šé¢¨æ ¼)</span>
        <div class="btn-group">
            <button class="btn-region" data-val="K-Pop, Catchy Hook" onclick="toggleTag(this)">ğŸ‡°ğŸ‡· éŸ“æµ K-Pop</button>
            <button class="btn-region" data-val="J-Pop, Anime Opening" onclick="toggleTag(this)">ğŸ‡¯ğŸ‡µ æ—¥ç³»äºŒæ¬¡å…ƒ</button>
            <button class="btn-region" data-val="US Pop, Billboard Chart, Atlanta Trap" onclick="toggleTag(this)">ğŸ‡ºğŸ‡¸ ç¾å¼æ’è¡Œ</button>
            <button class="btn-region" data-val="Reggaeton, Latin Pop" onclick="toggleTag(this)">ğŸ‡§ğŸ‡· æ‹‰ä¸ç†±æµª</button>
            <button class="btn-region" data-val="Afrobeats, Log Drum" onclick="toggleTag(this)">ğŸŒ éæ´²å¾‹å‹•</button>
            <button class="btn-region" data-val="C-Pop, Mandopop, Sentimental Ballad" onclick="toggleTag(this)">ğŸ‡¨ğŸ‡³ è¯èªæµè¡Œ</button>
            <button class="btn-region" data-val="Bollywood, Punjabi" onclick="toggleTag(this)">ğŸ‡®ğŸ‡³ å¯¶èŠå¡¢</button>
            <button class="btn-region" data-val="Drift Phonk, Cowbell" onclick="toggleTag(this)">ğŸŒ ç¶²è·¯ Phonk</button>
        </div>
    </div>

    <div class="layer-box layer-4">
        <span class="title">â¤ï¸ Layer 4. æƒ…æ„Ÿèˆ‡å¿ƒæƒ… (Mood)</span>
        <div class="btn-group">
            <button class="btn-emo" data-val="Major Key, Uplifting, Playful" onclick="toggleTag(this)">â˜€ï¸ Dopamine Rush (å¿«æ¨‚)</button>
            <button class="btn-emo" data-val="Minor Key, Melancholic, Lonely" onclick="toggleTag(this)">ğŸ’§ 3AM Thoughts (æ·±å¤œemo)</button>
            <button class="btn-emo" data-val="Epic Build Up, Triumphant, Powerful" onclick="toggleTag(this)">âš”ï¸ Main Character (ç†±è¡€)</button>
            <button class="btn-emo" data-val="Nostalgic, Warm, Bittersweet" onclick="toggleTag(this)">ğŸ‚ Core Memory (æ‡·èˆŠ)</button>
            <button class="btn-emo" data-val="Dark Tension, Suspenseful, Dangerous" onclick="toggleTag(this)">ğŸ”¥ Villain Arc (æš—é»‘)</button>
            <button class="btn-emo" data-val="Ethereal, Dreamy, Magical" onclick="toggleTag(this)">âœ¨ POV: Dreamscape (å¤¢å¹»)</button>
        </div>
    </div>

    <div class="layer-box layer-6">
        <span class="title">ğŸ¤ Layer 5. äººè²èˆ‡ä¸»è§’ (Vocals - ç”·å¥³å°æ‡‰)</span>
        <div class="sub-label">ğŸ¹ æµè¡Œèˆ‡ç¾ä»£ (Pop & Modern)</div>
        <div class="btn-group">
            <button class="btn-vox" data-val="Whisper Pop, Breathy Vocals" onclick="toggleTag(this)">[å¥³] æ°£è²è‡¥å®¤</button>
            <button class="btn-vox" data-val="Soft Pop Vocals, Emotional" onclick="toggleTag(this)">[ç”·] æº«æŸ”å°‘å¹´</button>
            <button class="btn-vox" data-val="Anime Vocals, High-pitched" onclick="toggleTag(this)">[å¥³] äºŒæ¬¡å…ƒ/åŠ é€Ÿ</button>
            <button class="btn-vox" data-val="Autotune Vocals, Melodic" onclick="toggleTag(this)">[ç”·] æµè¡Œé›»éŸ³</button>
        </div>
        <div class="sub-label">ğŸ¸ æ–æ»¾èˆ‡æ‡·èˆŠ (Rock & Retro)</div>
        <div class="btn-group">
            <button class="btn-vox" data-val="Female Rock Vocals, Powerful" onclick="toggleTag(this)">[å¥³] éµè‚ºé«˜éŸ³</button>
            <button class="btn-vox" data-val="Male Grunge Vocals, Gritty" onclick="toggleTag(this)">[ç”·] ç²—ç·ç…™å—“</button>
            <button class="btn-vox" data-val="70s Soul Diva, Warmth" onclick="toggleTag(this)">[å¥³] 70s éˆé­‚</button>
            <button class="btn-vox" data-val="70s Soft Rocker" onclick="toggleTag(this)">[ç”·] 70s è»Ÿæ–æ»¾</button>
        </div>
        <div class="sub-label">ğŸ¤ ç¯€å¥èˆ‡å˜»å“ˆ (R&B & HipHop)</div>
        <div class="btn-group">
            <button class="btn-vox" data-val="Soul Diva, R&B Runs" onclick="toggleTag(this)">[å¥³] éˆé­‚è½‰éŸ³</button>
            <button class="btn-vox" data-val="Smooth R&B Vocals, Falsetto" onclick="toggleTag(this)">[ç”·] æ·±æƒ… R&B</button>
            <button class="btn-vox" data-val="Female Rap, Sassy" onclick="toggleTag(this)">[å¥³] å€‹æ€§é¥’èˆŒ</button>
            <button class="btn-vox" data-val="Male Melodic Rap, Trap" onclick="toggleTag(this)">[ç”·] æ—‹å¾‹é¥’èˆŒ</button>
        </div>
        <div class="sub-label">ğŸ›ï¸ å¤å…¸èˆ‡ç¾è² (Classical)</div>
        <div class="btn-group">
            <button class="btn-vox" data-val="Coloratura Soprano, Opera" onclick="toggleTag(this)">[å¥³] æ­ŒåŠ‡å¥³é«˜éŸ³</button>
            <button class="btn-vox" data-val="Operatic Tenor, Powerful" onclick="toggleTag(this)">[ç”·] æ­ŒåŠ‡ç”·é«˜éŸ³</button>
        </div>
    </div>

    <div class="layer-box layer-5">
        <span class="title">ğŸï¸ Layer 6. æ™‚é–“èˆ‡é€Ÿåº¦ (Specs)</span>
        <div class="sub-label">â±ï¸ é•·åº¦</div>
        <div class="btn-group">
            <button class="btn-tempo" data-val="[15 Seconds], [Quick Fade Out]" onclick="toggleTag(this)">15ç§’ (é™å‹•)</button>
            <button class="btn-tempo" data-val="[30 Seconds], [Hard Stop]" onclick="toggleTag(this)">30ç§’ (å»£å‘Š)</button>
            <button class="btn-tempo" data-val="[3 Minutes], [Radio Edit]" onclick="toggleTag(this)">3åˆ† (å®Œæ•´)</button>
            <button class="btn-tempo" data-val="[Seamless Loop]" onclick="toggleTag(this)">ç„¡é™å¾ªç’° (Loop)</button>
        </div>
        <div class="sub-label">ğŸï¸ é€Ÿåº¦</div>
        <div class="btn-group">
            <button class="btn-tempo" data-val="65 BPM, Largo" onclick="toggleTag(this)">65 (æ…¢æ¿)</button>
            <button class="btn-tempo" data-val="90 BPM, Groove" onclick="toggleTag(this)">90 (å˜»å“ˆ/Vlog)</button>
            <button class="btn-tempo" data-val="120 BPM" onclick="toggleTag(this)">120 (æµè¡Œ)</button>
            <button class="btn-tempo" data-val="140 BPM, High Energy" onclick="toggleTag(this)">140 (é‹å‹•)</button>
            <button class="btn-tempo" data-val="175 BPM, Fast" onclick="toggleTag(this)">175 (Phonk)</button>
        </div>
    </div>

    <div class="layer-box layer-3">
        <span class="title">ğŸ» Layer 7. å™¨æ¨‚ç´°ç¯€ (Instruments - é¸å¡«)</span>
        <div class="sub-label">ç¶“å…¸èˆ‡åŸè²</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Grand Piano" onclick="toggleTag(this)">å¹³å°é‹¼ç´</button>
            <button class="btn-inst" data-val="String Quartet" onclick="toggleTag(this)">å¼¦æ¨‚å››é‡å¥</button>
            <button class="btn-inst" data-val="Solo Violin" onclick="toggleTag(this)">å°æç´ç¨å¥</button>
            <button class="btn-inst" data-val="Solo Cello" onclick="toggleTag(this)">å¤§æç´ç¨å¥</button>
            <button class="btn-inst" data-val="Acoustic Guitar" onclick="toggleTag(this)">æœ¨å‰ä»–</button>
        </div>
        <div class="sub-label">ç¾ä»£èˆ‡æµé‡</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Electric Guitar" onclick="toggleTag(this)">é›»å‰ä»–</button>
            <button class="btn-inst" data-val="Live Drum Kit" onclick="toggleTag(this)">çˆµå£«é¼“</button>
            <button class="btn-inst" data-val="Synthesizer Lead" onclick="toggleTag(this)">åˆæˆå™¨</button>
            <button class="btn-inst" data-val="Heavy 808 Bass" onclick="toggleTag(this)">808é‡ä½éŸ³</button>
            <button class="btn-inst" data-val="Trap Drum Machine" onclick="toggleTag(this)">é™·é˜±é¼“æ©Ÿ</button>
        </div>
        <div class="sub-label">ç¶²æ„Ÿç‰¹æ•ˆ</div>
        <div class="btn-group">
            <button class="btn-inst" data-val="Phonk Cowbell" onclick="toggleTag(this)">Phonkç‰›éˆ´</button>
            <button class="btn-inst" data-val="Vocal Chops" onclick="toggleTag(this)">äººè²åˆ‡ç‰‡</button>
            <button class="btn-inst" data-val="Lo-fi Vinyl Crackle" onclick="toggleTag(this)">é»‘è† åº•å™ª</button>
        </div>
    </div>

    <div class="layer-box layer-8">
        <span class="title">ğŸ›ï¸ Layer 8. æ··éŸ³æ¿¾é¡èˆ‡æ’é™¤ (Post-Production)</span>
        <div class="sub-label">ğŸ›ï¸ é¢¨æ ¼æ¿¾é¡</div>
        <div class="btn-group">
            <button class="btn-mix" data-val="Vintage Vinyl, Crackle" onclick="toggleTag(this)">ğŸ“¼ å¾©å¤é»‘è† </button>
            <button class="btn-mix" data-val="Lo-fi, Muffled" onclick="toggleTag(this)">ğŸ“» æ‚¶éŸ³/Lo-fi</button>
            <button class="btn-mix" data-val="Heavily Distorted" onclick="toggleTag(this)">âš¡ ç ´éŸ³/å¤±çœŸ</button>
            <button class="btn-mix" data-val="High Fidelity" onclick="toggleTag(this)">âœ¨ é«˜æ¸…/ç¾ä»£</button>
            <button class="btn-mix" data-val="Live Recording, Crowd" onclick="toggleTag(this)">ğŸ¤ ç¾å ´</button>
            <button class="btn-mix" data-val="Dry Sound, Close-mic" onclick="toggleTag(this)">ğŸ™ï¸ éŒ„éŸ³å®¤ä¹¾è²</button>
        </div>
        <div class="sub-label" style="color:#eb4d4b;">â›” å¼·åŠ›æ’é™¤ (é»æ“Šå•Ÿç”¨)</div>
        <div class="btn-group">
            <button class="btn-neg" data-val="[Instrumental], [No Vocals]" onclick="toggleTag(this)">ğŸš« ç´”éŸ³æ¨‚</button>
            <button class="btn-neg" data-val="[No Drums], [No Percussion]" onclick="toggleTag(this)">ğŸš« ç„¡ç¯€å¥</button>
            <button class="btn-neg" data-val="[Acoustic], [No Electronic]" onclick="toggleTag(this)">ğŸš« ç´”åŸè²</button>
            <button class="btn-neg" data-val="[No Rap]" onclick="toggleTag(this)">ğŸš« ç„¡é¥’èˆŒ</button>
            <button class="btn-neg" data-val="[Clean], [No Noise]" onclick="toggleTag(this)">ğŸš« ç„¡é›œè¨Š</button>
            <button class="btn-neg" data-val="[Simple], [Minimalist]" onclick="toggleTag(this)">ğŸš« æ¥µç°¡åŒ–</button>
        </div>
    </div>

    <div class="tips-container">
        <details>
            <summary>âœ¨ é»æ­¤æŸ¥çœ‹ï¼š5 å€‹è®“ AI æ›´è½è©±çš„é»ƒé‡‘æ³•å‰‡</summary>
            <div class="tips-content">
                <div class="tip-item">
                    <strong>1. çµ¦ç•«é¢</strong> å…·é«”æç¹ªè²éŸ³å ´æ™¯
                    <span class="tip-ex">ä¾‹: Rain sounds, Lonely street, Coffee shop ambiance</span>
                </div>
                <div class="tip-item">
                    <strong>2. å®šä¸»é¡Œ</strong> å‘Šè¨´ AI é€™æ˜¯ä»€éº¼æ­Œ
                    <span class="tip-ex">ä¾‹: About a broken robot, Wedding entrance music</span>
                </div>
                <div class="tip-item">
                    <strong>3. é¸ä¸»è§’</strong> æŒ‡å®šç¨å¥æ¨‚å™¨
                    <span class="tip-ex">ä¾‹: Saxophone Solo, Distorted Guitar Hero</span>
                </div>
                <div class="tip-item">
                    <strong>4. å½¢å®¹è²éŸ³</strong> æè¿°äººè²çš„è³ªæ„Ÿ
                    <span class="tip-ex">ä¾‹: Raspy voice (æ²™å•), Breathy (æ°£éŸ³), Robotic (æ©Ÿå™¨äºº)</span>
                </div>
                <div class="tip-item">
                    <strong>5. ç‰¹æ®Šæ“ä½œ</strong> å¼·åˆ¶æ§åˆ¶çµæ§‹
                    <span class="tip-ex">ä¾‹: [Silence] (éœéŸ³), [Spoken Word] (å¿µç™½), [Acappella] (æ¸…å”±)</span>
                </div>
            </div>
        </details>
    </div>

    <div class="result-area">
        <div style="margin-bottom:8px;">
            <input type="text" id="customInput" class="custom-input" placeholder="âœ¨ è£œå……æŒ‡ä»¤... (é»æ“Šä¸Šæ–¹ç´«è‰²é¸å–®æŸ¥çœ‹æŠ€å·§)" oninput="render()">
        </div>
        <div style="display:flex; justify-content:space-between; color:#f1c40f; font-weight:bold; margin-bottom:5px; font-size:14px;">
            <span>ğŸ“œ æœ€çµ‚ç”ŸæˆæŒ‡ä»¤ï¼š</span>
            <span style="cursor:pointer; text-decoration: underline;" onclick="resetAll()">[ é‡ç½®å…¨éƒ¨ ]</span>
        </div>
        <textarea id="output" placeholder="è«‹é»é¸ä¸Šæ–¹æŒ‰éˆ•..." readonly></textarea>
        <div id="charCount" class="char-counter count-safe">0 / 500</div>
        <button class="copy-btn" onclick="copyText()">ğŸ“‹ è¤‡è£½æŒ‡ä»¤ (Copy)</button>
    </div>
    
    <a href="https://www.instagram.com/" target="_blank" style="
        position: fixed; bottom: 120px; right: 20px;
        background: #e17055; color: white;
        padding: 10px 15px; border-radius: 50px;
        text-decoration: none; font-weight: bold; font-size: 14px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 10000;
        display: flex; align-items: center; gap: 5px; opacity: 0.9;
    ">
        ğŸ’¬ å›é¥‹
    </a>

    <script>
        let struct = "";
        let tags = [];

        // é»ƒé‡‘é…æ–¹
        const recipes = {
            'intimate': ['[Atmospheric Intro], [Main Theme], [Emotional Climax], [Fade Out]', 'Minimalism', 'Minor Key, Melancholic, Lonely', 'Solo Cello', 'Solo Violin', 'Dry Sound, Close-mic', '[Instrumental], [No Vocals]', '65 BPM, Largo', '[3 Minutes]'],
            'epic': ['[Grand Overture], [Soloist Entry], [Complex Development], [Grand Finale]', 'Film Score', 'Minor Key, Emotional', 'Epic Build Up, Triumphant, Heroic', 'String Quartet', 'Hans Zimmer Style', 'High Fidelity', '[Instrumental], [No Vocals]', '90 BPM'],
            'cyberpunk': ['[Catchy Hook], [Drop], [High Energy Chorus], [Sudden End]', 'Modern Pop, EDM', 'Dark Tension, Dangerous', 'Synthesizer Lead', 'Heavy 808 Bass', 'Huge Reverb', '[Instrumental], [No Vocals]', '120 BPM'],
            'ghibli': ['[Atmospheric Intro], [Main Theme], [Emotional Climax], [Fade Out]', 'Film Score', 'Anime Opening', 'Major Key, Uplifting', 'Grand Piano', 'String Quartet', 'High Fidelity', '[Instrumental], [No Vocals]', '90 BPM'],
            'phonk': ['[Catchy Hook], [Drop], [Sudden End]', 'Drift Phonk, Cowbell', 'Dark Tension, Dangerous', 'Phonk Cowbell', 'Heavy 808 Bass', 'Heavily Distorted', '[Instrumental], [No Vocals]', '175 BPM'],
            'lofi': ['[Soft Intro], [Steady Rhythm], [Seamless Loop]', 'Lofi, Chillout', 'Nostalgic, Warm', 'Grand Piano', 'Lo-fi Vinyl Crackle', 'Muffled', '[Instrumental], [No Vocals]', '90 BPM'],
            'kpop': ['[Intro], [Verse], [Chorus], [Bridge], [Outro]', 'Modern Pop, EDM', 'K-Pop, Catchy Hook', 'Major Key, High Energy', 'Synthesizer Lead', 'Trap Drum Machine', 'High Fidelity', 'Whisper Pop, Breathy Vocals', '120 BPM'],
            'latin': ['[Catchy Hook], [Drop], [Sudden End]', 'Latin Pop, Reggaeton', 'Urbano', 'Acoustic Guitar', 'Live Drum Kit', 'High Fidelity', '120 BPM']
        };

        function applyPreset(name) {
            resetAll();
            const recipe = recipes[name];
            if (!recipe) return;
            recipe.forEach(val => {
                const structBtn = document.querySelector(`.btn-struct[data-val="${val}"]`);
                if (structBtn) setStruct(structBtn);
                const otherBtn = document.querySelector(`button:not(.btn-struct)[data-val="${val}"]`);
                if (otherBtn) toggleTag(otherBtn);
            });
        }

        function setStruct(el) {
            const val = el.getAttribute('data-val');
            document.querySelectorAll('.btn-struct').forEach(b => b.classList.remove('active'));
            if (struct === val) { struct = ""; } 
            else { struct = val; el.classList.add('active'); }
            render();
        }

        function toggleTag(el) {
            const val = el.getAttribute('data-val');
            if (tags.includes(val)) {
                tags = tags.filter(t => t !== val);
                el.classList.remove('active');
            } else {
                tags.push(val);
                el.classList.add('active');
            }
            render();
        }

        function resetAll() {
            struct = "";
            tags = [];
            document.getElementById('customInput').value = "";
            document.querySelectorAll('button').forEach(b => b.classList.remove('active'));
            document.querySelector('details').removeAttribute('open');
            render();
        }

        function render() {
            let res = "";
            let customText = document.getElementById('customInput').value.trim();
            if (struct) res += struct + "\n";
            let allTags = [...tags];
            if (customText) allTags.push(customText);
            if (allTags.length > 0) res += allTags.join(", ");
            const output = document.getElementById('output');
            output.value = res;
            updateCharCount(res.length);
        }

        function updateCharCount(len) {
            const counter = document.getElementById('charCount');
            counter.innerText = len + " / 500";
            counter.classList.remove('count-safe', 'count-warning', 'count-danger');
            if (len >= 500) {
                counter.classList.add('count-danger');
                counter.innerText = "âš ï¸ " + len + " / 500 (å·²è¶…æ¨™)";
            } else if (len >= 450) {
                counter.classList.add('count-warning');
            } else {
                counter.classList.add('count-safe');
            }
        }

        function copyText() {
            let box = document.getElementById('output');
            if(!box.value) return alert("è«‹å…ˆé¸æ“‡ï¼");
            box.select();
            navigator.clipboard.writeText(box.value);
            let btn = document.querySelector('.copy-btn');
            let orig = btn.innerText;
            btn.innerText = "âœ… è¤‡è£½æˆåŠŸï¼";
            setTimeout(() => btn.innerText = orig, 2000);
        }
    </script>
</body>
</html>